{"ast":null,"code":"var _jsxFileName = \"/home/phuong/Documents/FE-Practice/reactjs-cinema/src/pages/CreatePage.js\";\nimport React from 'react';\nimport { Form, Button, Alert, Modal } from 'react-bootstrap';\n\nclass CreatePage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnChange = event => {\n      event.preventDefault();\n      const {\n        name,\n        value\n      } = event.target;\n      let error = this.state.error;\n\n      switch (name) {\n        case 'name':\n          error.name = value.trim().length === 0 ? 'Movie name must NOT be empty' : '';\n          break;\n\n        case 'rating':\n          error.rating = parseFloat(value.trim()) ? '' : 'Rating must be a number';\n          break;\n\n        case 'time':\n          error.time = value.split(',') ? '' : 'Movie time must a time like hh:mm';\n          console.log(value.split(','));\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        error,\n        [name]: value\n      }, () => {\n        console.log(name, value, error);\n      });\n    };\n\n    this.handleShow = () => this.setState({\n      show: !this.state.show\n    });\n\n    this.state = {\n      name: '',\n      rating: 0,\n      movie: {\n        name: '',\n        rating: 0,\n        time: []\n      },\n      error: {\n        name: '',\n        rating: '',\n        time: ''\n      },\n      time: [],\n      show: false,\n      data: {}\n    };\n    this.handleName = this.handleName.bind(this);\n    this.handleRating = this.handleRating.bind(this);\n    this.handleTime = this.handleTime.bind(this);\n    this.handleOnChange = this.handleOnChange.bind(this);\n  }\n\n  handleName(event) {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  handleRating(event) {\n    this.setState({\n      rating: event.target.value\n    });\n  }\n\n  handleTime(event) {\n    alert(event.target.value);\n    let timeArray = event.target.value;\n    this.setState({\n      time: timeArray.split(',')\n    });\n    console.log(timeArray);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let data = {\n      name: this.state.name,\n      rating: this.state.rating,\n      time: this.state.time\n    }; //console.log(this.state);\n\n    console.log(data);\n    fetch('http://localhost:5000/movie/create', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify(data)\n    }).then(async res => await res.json()).then(res => this.setState({\n      data: res.data,\n      show: !this.state.show\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit.bind(this),\n      ref: \"create-movie-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Link, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, \"Create\"), \" movie page\")), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Enter the movie name\",\n      name: \"name\",\n      onChange: this.handleOnChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Form.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    }, this.state.error.name))), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"Rating\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Enter the movie rating\",\n      name: \"rating\",\n      onChange: this.handleOnChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, \"Time\"), /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }, \"Rating\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Enter the movie timing\",\n      name: \"time\",\n      onChange: this.handleOnChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      onClick: this.createMovie,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \"Submit\"), ' ', /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, \"Clear form\"), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, \"Movie created successfully\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, \"Code\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"label\",\n      value: this.state.data._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 33\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"label\",\n      value: this.state.data.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 33\n      }\n    }, \"Rating\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"label\",\n      value: this.state.data.rating,\n      onChange: () => {\n        alert();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Close\"))));\n  }\n\n}\n\nexport default CreatePage;","map":{"version":3,"sources":["/home/phuong/Documents/FE-Practice/reactjs-cinema/src/pages/CreatePage.js"],"names":["React","Form","Button","Alert","Modal","CreatePage","Component","constructor","props","handleOnChange","event","preventDefault","name","value","target","error","state","trim","length","rating","parseFloat","time","split","console","log","setState","handleShow","show","movie","data","handleName","bind","handleRating","handleTime","alert","timeArray","handleSubmit","fetch","headers","method","body","JSON","stringify","then","res","json","render","createMovie","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Form, Button, Alert, Modal} from 'react-bootstrap';\n\nclass CreatePage extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            name: '',\n            rating: 0,\n            movie: {\n                name: '',\n                rating: 0,\n                time: []\n            },\n            error : {\n                name: '',\n                rating: '',\n                time:''\n            },\n            time: [],\n            show: false,\n            data: {}\n        }\n        this.handleName = this.handleName.bind(this);\n        this.handleRating = this.handleRating.bind(this);\n        this.handleTime = this.handleTime.bind(this);\n        this.handleOnChange = this.handleOnChange.bind(this);\n    }\n\n    handleOnChange = (event) => {\n        event.preventDefault();\n        const {name, value} = event.target;\n        let error = this.state.error;\n        switch (name) {\n            case 'name':\n                error.name = value.trim().length === 0 ? 'Movie name must NOT be empty' : '';\n                break;\n            case 'rating':\n                error.rating = parseFloat(value.trim()) ? '': 'Rating must be a number';\n                break;\n            case 'time':\n                error.time = value.split(',') ? '' : 'Movie time must a time like hh:mm';\n                console.log(value.split(','));\n                break;\n            default:\n                break;\n        }\n        this.setState({error, [name]: value}, ()=>{console.log(name, value, error)});\n    }\n\n    handleShow = () => this.setState({show: !this.state.show});\n\n    handleName(event){\n        this.setState({name: event.target.value});\n    }\n\n    handleRating(event){\n        this.setState({rating: event.target.value});\n    }\n\n    handleTime(event){\n        alert(event.target.value);\n        let timeArray = event.target.value;\n        this.setState({time: timeArray.split(',')});\n        console.log(timeArray);\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n\n        let data = {\n            name: this.state.name,\n            rating: this.state.rating,\n            time: this.state.time\n        }\n        //console.log(this.state);\n        console.log(data);\n\n        fetch('http://localhost:5000/movie/create', {\n            headers: {'Content-Type':'application/json'},\n            method: 'POST',\n            body: JSON.stringify(data)\n        })\n            .then(async res => await res.json())\n            .then(res => this.setState({data: res.data, show: !this.state.show}));\n\n    }\n\n    render(){\n        return(\n            <Form onSubmit={this.handleSubmit.bind(this)} ref='create-movie-form'>\n                <Alert variant=\"primary\">\n                    <h2><Alert.Link>Create</Alert.Link> movie page</h2>\n                </Alert>\n                <Form.Group>\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control type='text' placeholder='Enter the movie name' name='name' onChange={this.handleOnChange} required/>\n                    <Form.Text ><span variant='danger'>{this.state.error.name}</span></Form.Text>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Rating</Form.Label>\n                    <Form.Control type='text' placeholder='Enter the movie rating' name='rating' onChange={this.handleOnChange} required/>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Time</Form.Label>\n                    <Form.Label>Rating</Form.Label>\n                    <Form.Control type='text' placeholder='Enter the movie timing' name='time' onChange={this.handleOnChange} required/>\n                </Form.Group>\n                <Button variant='primary' type='submit' onClick={this.createMovie}>Submit</Button>{' '}\n                <Button variant='danger' >Clear form</Button>\n                <Modal show={this.state.show} onHide={this.handleShow}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Movie created successfully</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Form>\n                            <Form.Group>\n                                <Form.Label>Code</Form.Label>\n                                <Form.Control type='label' value={this.state.data._id}/>\n                            </Form.Group>\n                            <Form.Group>\n                                <Form.Label>Name</Form.Label>\n                                <Form.Control type='label' value={this.state.data.name}/>\n                            </Form.Group>\n                            <Form.Group>\n                                <Form.Label>Rating</Form.Label>\n                                <Form.Control type='label' value={this.state.data.rating} onChange={()=>{alert()}}/>\n                            </Form.Group>\n                        </Form>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleShow}>Close</Button>\n                    </Modal.Footer>\n                </Modal>\n            </Form>\n        )\n    }\n}\n\nexport default CreatePage;"]},"metadata":{},"sourceType":"module"}